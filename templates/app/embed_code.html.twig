{% extends 'base.html.twig' %}

{% macro embed_head() %}
    <link rel="stylesheet" href="{{ absolute_url(path('app_embed_style')) }}"/>
{% endmacro %}

{% macro embed_markup(context) %}
    {% set app_configuration = {
        data_urls: {
            items: absolute_url(path('api_items_get_collection')),
            item_categories: absolute_url(path('api_item_categories_get_collection')),
        },
        assets: context.assets
        } %}
    <div id="sorteringsabc-app" data-configuration='{{ app_configuration|json_encode|raw }}'></div>
    <script src="{{ absolute_url(path('app_embed_script')) }}"></script>
    <style>@import "{{ absolute_url(path('app_embed_style')) }}";</style>
{% endmacro %}

{% block body %}
    {% from _self import embed_markup, embed_head %}
    {# <h1>{{ 'Embed code'|trans }}</h1> #}

    <pre><code>{{ embed_markup(_context)|escape }}</code></pre>

    {# <pre>{{ embed_head()|escape }}</pre> #}
{% endblock %}
